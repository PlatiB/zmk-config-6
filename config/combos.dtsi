/*                KEY POSITIONS
34 keys:

  ╭────────────────────╮ ╭────────────────────╮
  │  0   1   2   3   4 │ │  5   6   7   8   9 │
  │ 10  11  12  13  14 │ │ 15  16  17  18  19 │
  │ 20  21  22  23  24 │ │ 25  26  27  28  29 │
  ╰───────────╮ 30  31 │ │ 32  33 ╭───────────╯
              ╰────────╯ ╰────────╯
30 keys:
  ╭────────────────────╮ ╭────────────────────╮
  │  0   1   2   3   4 │ │  5   6   7   8   9 │
  │ 10  11  12  13  14 │ │ 15  16  17  18  19 │
  ╰───╮ 20  21  22     │ │     23  24  25 ╭───╯
      ╰───────╮ 26  27 │ │ 28  29 ╭───────╯
              ╰────────╯ ╰────────╯            */

#define COMBO(NAME, BINDINGS, KEYPOS, LAYERS, TERM, QUICKTAP, ...) \
    combo_##NAME { \
        timeout-ms = <TERM>; \
        bindings = <BINDINGS>; \
        key-positions = <KEYPOS>; \
        layers = <LAYERS>; \
        require-prior-idle-ms = <QUICKTAP>; \
		__VA_ARGS__ \
    };

/ {
    combos {
        compatible = "zmk,combos";

COMBO(esc,    &kp ESC,     0  1, DEF MUN,      80,  50)
COMBO(del,    &kp DEL,     8  9, DEF MUN,      80,  50)
COMBO(tab_l,  &kp TAB_LT,  1  2, DEF MUN,      80,  50)
COMBO(tab_r,  &kp TAB_RT,  7  8, DEF MUN,      80,  50)
COMBO(win_p,  &kp LS(TAB), 2  3, DEF MUN,      80,  50)
COMBO(win_n,  &swapper,    6  7, DEF MUN,      80,  50)

COMBO(lbkt,   &kp LBKT,   10 11, DEF MUN,      40, 100)
COMBO(rbkt,   &kp RBKT,   18 19, DEF MUN,      40, 100)
COMBO(lbrc,   &kp LEFT BRACE,     11 12, DEF MUN,      40, 100)
COMBO(rbrc,   &kp RIGHT BRACE,    17 18, DEF MUN,      40, 100)
COMBO(lpar,   &kp LPAR,   12 13, DEF MUN,      40, 100)
COMBO(rpar,   &kp RPAR,   16 17, DEF MUN,      40, 100)

COMBO(lthan,    &kp LESS THAN,    11 13, DEF BRD SYM,  40, 150)
COMBO(rthan,    &kp GREATER THAN, 16 18, DEF BRD SYM,  40, 150)

#ifdef ALPHA_23332
COMBO(z,      &kp Z,      20 21, DEF MUN,      80,  50)
COMBO(v,      &kp V,      21 22, DEF,          40,  50)
COMBO(bslh,   &kp BSLH,   23 24, DEF MUN,      80, 100)
COMBO(slsh,   &kp SLASH,  24 25, DEF MUN,      80,  50)

COMBO(f12,    &kp F12,    20 21, FUN,         100, 200)
COMBO(btclr,  &bt BT_CLR, 24 25, FUN,         100, 200)
#else
COMBO(z,      &kp Z,      21 22, DEF MUN,      80,  50)
COMBO(v,      &kp V,      22 23, DEF,          40,  50)
COMBO(bslh,   &kp BSLH,   26 27, DEF MUN,      80, 100)
COMBO(slsh,   &kp SLASH,  27 28, DEF MUN,      80,  50)

COMBO(f12,    &kp F12,    21 22, FUN,         100, 200)
COMBO(btclr,  &bt BT_CLR, 27 28, FUN,         100, 200)
#endif

#ifdef MOUSE_KEYS
#    ifdef THREE_THUMBS
#        ifdef ALPHA_23332
COMBO(mse_l,  &mo MSE,    27 28, DEF MUN,     150,   0, slow-release;)
#        else
COMBO(mse_l,  &mo MSE,    31 32, DEF MUN,     150,   0, slow-release;)
#        endif
#    else
#        ifdef ALPHA_23332
COMBO(mse_l,  &mo MSE,    26 27, DEF MUN,     150,   0, slow-release;)
#        else
COMBO(mse_l,  &mo MSE,    30 31, DEF MUN,     150,   0, slow-release;)
#        endif
#    endif
#endif
    };
};
